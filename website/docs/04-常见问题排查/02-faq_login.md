---
title: "登录问题"
---

# 登录问题

> TOTP (Time-based One-Time Password algorithm) 将密钥与当前时间进行组合，通过哈希算法产生一次性密码，已被采纳为 RFC 6238，被用于许多双因素身份验证系统。

## 动态口令错误

#### 时间不准

雷池社区版动态口令认证采用了 TOTP 算法，TOTP 与时间强相关，如果相关设备的时间不准，可能会导致动态口令计算错误。

1. 检查手机时间是否准确（或其他 TOTP 扫码设备）
2. 检查雷池服务器时间是否准确

#### 动态口令可能已失效

TOTP 动态口令只有 30 秒的有效期，如果认证失败，请在动态口令刷新后重新尝试。

## 重新绑定动态口令

登录服务器，打开终端，执行以下命令即可重置动态口令

```
docker exec safeline-mgt-api resetadmin
```

命令执行完成后打开雷池页面重新绑定即可。

**注意重置动态口令后要尽快完成绑定，别被其他人捷足先登了**

## 多人使用

如果想多人使用雷池社区版，只需要以下 3 步：

1. 重置动态口令（参考 [重置认证](#重置认证)）
2. 进入登录页面，这时会自动跳转到 TOTP 绑定页面，保存 “绑定二维码”（注意，非 “认证二维码”）
3. 将 “绑定二维码” 分享给其他人进行绑定，绑定后即可登录（注：“绑定二维码” 无绑定次数限制，无时效限制）

**注意保存的 “绑定二维码” 千万别泄漏，任何人得到以后都可以绑定并登录**
